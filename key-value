#!/bin/env -S java -cp ./out/artifacts/FetchNStore_jar/* --source 14

import cli.Prompt;

import java.io.Console;

public class Driver {

    public static void main(String[] args) {

        /**
         * Try to get a Console, if available.
         */
        Console CLIConsole = System.console();

        if(CLIConsole == null) {
            System.out.println("ERROR: Failed to get CLI Console.");
            return;
        }

        Prompt prompt = new Prompt();

        while(prompt.shouldExit() == false) {
            /**
             * 1. Print cursor
             * 2. Await input
             * 3. Tokenize and examine input
             * 4. When valid input, send to data store
             *      If invalid, state unknown command
             * loop()
             */
            System.out.print(prompt.getCursor());

            String userInput = CLIConsole.readLine();

            prompt.execute(userInput);

            System.out.println(prompt.getCommandMessage());
        }

    }


}
